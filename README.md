# OASYS1-ALS-ShadowOui
Set of widgets to bring additional capabilities to the [OASYS](https://www.elettra.trieste.it/oasys.html) optical beamline simulation software, based on [Shadow](https://github.com/srio/shadow3). These tools were developed to serve the needs of synchrotron light source, in particular diffraction-limited storage rings, and free-electron lasers.

## Installation and use
The widgets are available through the add-on menu of OASYS (Options>add-ons... or at the start-up menu)

![addons menu](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/addons.png "Add-on menu")

Once it is installed, it should populate the widget bar on the side.

![side menu](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/sidemenu.png "side menu")

These widgets are made available through the [Python Packge Index](https://pypi.org/project/oasys1-als-shadowoui/) (PyPI)

## Examples of use
Some examples of use can be found here: [ALS-U Examples](https://github.com/awojdyla/ALS-U_Examples)

## Widgets

### Shadow ALS Sources
The Shadow ALS Sources add mostly one new element, the ALS undulator, which allows to use the SRW engine to compute realistic synchrotron sources, even when slightly detuned.

#### ALS undulator

![ALS undulator](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/als_undulator.png "ALS undulator") 
![SRW source](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/srw_tab2.png "SRW  source")

### Shadow ALS utility

The Shadow ALS utility adds new elements to Oasys capable of scanning a parameter for mirrors or grating, in order to study and optimize their performances.

![analyzer menu](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/analyzer_menu.png "analyzer menu")

The analyzers need to be places right *after* the element to study.

#### ALS curved element Analyzer
The ALS curved element Analyzer allows to change the parameter of any reflective surface. Depending on the shape complexity (from flat mirror to toroid), the scanning parameter can be chosen.

![mirror analyzer](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/mirror_analyzer.png "mirror_analyzer")

#### ALS grating analyzer
For gratings, the higher order grating parameters can be scanned, to study focusing or mitigate aberrations.

![grating analyzer](http:github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/grating_analyzer.png "grating_analyzer")

### Shadow ALS Optical Elements
Among the new ALS Optical elements are the ANSYS reader, which allows to use files exported from ANSYS in order to accurately model the effect of thermal deformations of mirror under high heat load.

#### ANSYS reader
A reader for ALS mirror deformation files generated by ANSYS, in order to study the effect of thermal loads on the mirrors
![ANSYS reader](https://github.com/oasys-als-kit/OASYS1-ALS-ShadowOui/blob/master/images/ansys_reader.png "ANSYS reader")

## To do list
+ wavefront sensors
+ adaptive optics
+ diaboloids
